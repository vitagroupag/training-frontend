<html>
   <head>
      <script src="https://unpkg.com/medblocks-ui@0.0.93/dist/bundle.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.3/axios.js"></script>
      <link rel="stylesheet" href="https://unpkg.com/@shoelace-style/shoelace@2.0.0-beta.50/dist/themes/light.css">
   </head>
   <body>
      <mb-form>
        
        <!-- Place form here-->
        
         <mb-submit onclick='submit'>
            <button>Form</button>
         </mb-submit>
         <script>
            var form = document.querySelector('mb-form')
            
            //replace with current URL
            const openehr = axios.create({baseURL:"https://8090-vitagroupag-trainingbac-lbebnoz2xbd.ws-eu96b.gitpod.io/ehrbase/rest/ecis/v1",
            headers: {
                Accept: "application/json",
              }});
              
              form.addEventListener('mb-submit', (e=CustomEvent)=>{
                
                  var composition = e.detail
                  e.submit
                  var document = form.document;
                  
                  //replace values for templateId and ehrId
                  openehr.post("/composition", composition, {
                      params: { format: "FLAT", templateId: "Koerpertemperatur", ehrId: 'bdfdf108-6904-4f84-afc0-e06a86a59beb'},
                  }).then(response => {
                  alert(response.status);
              }).catch(error => {
                  console.error(error);
              });
            });              
         </script>
      </mb-form>
   </body>
</html>